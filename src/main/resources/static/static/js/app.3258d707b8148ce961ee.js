webpackJsonp([1],{0:function(t,e){},"1SYN":function(t,e){},"3RgS":function(t,e){},"8KlW":function(t,e){},C6sT:function(t,e){},EVHi:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),s=a("NYxO"),n=a("zL8q"),o=a.n(n),r=(a("tvR6"),a("woOf")),l=a.n(r),c=a("mvHQ"),d=a.n(c),u={name:"App",components:{},provide:function(){return{reload:this.reload}},data:function(){return{isRouterAlive:!0}},created:function(){var t=this;window.addEventListener("beforeunload",function(){localStorage.setItem("adminId",d()(t.$store.state))}),localStorage.getItem("adminId")&&this.$store.replaceState(l()(this.$store.state,JSON.parse(localStorage.getItem("adminId"))))},mounted:function(){document.documentElement.className="production"},methods:{reload:function(){this.isRouterAlive=!1,this.$nextTick(function(){this.isRouterAlive=!0})}}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[this.isRouterAlive?e("router-view"):this._e()],1)},staticRenderFns:[]};var p=a("VU/8")(u,m,!1,function(t){a("3RgS")},null,null).exports,g=a("/ocq"),v={name:"Home",data:function(){return{vedioCanPlay:!1,fixStyle:"",labelPosition:"top",formLabelAlign:{adminName:"",adminPassword:""}}},mounted:function(){var t=this;window.onresize=function(){var e=document.body.clientWidth,a=document.body.clientHeight,i=void 0,s=void 0;a/e<.5625?(s=.5625*(i=e),t.fixStyle={height:.5625*e+"px",width:e+"px","margin-bottom":(a-s)/2+"px","margin-left":"initial"}):(i=(s=a)/.5625,t.fixStyle={height:a+"px",width:a/.5625+"px","margin-left":(e-i)/2+"px","margin-bottom":"initial"})},window.onresize()},methods:{submitForm:function(){var t=this;if(""==this.formLabelAlign.adminName||null==this.formLabelAlign.adminName)this.$alert("管理员账号不能空着哦！","注意！",{confirmButtonText:"确定"});else if(""==this.formLabelAlign.adminPassword||null==this.formLabelAlign.adminPassword)this.$alert("管理员密码不能空着哦！","注意！",{confirmButtonText:"确定"});else{var e=this.$qs.stringify({adminName:this.formLabelAlign.adminName,adminPassword:this.formLabelAlign.adminPassword});this.$axios.post("http://114.116.238.138:9090/admin/login",e).then(function(e){200==e.data.status?(t.$store.dispatch("login",e.data.data.adminId),t.$router.push({name:"index"})):t.$message({type:"error",message:"账号或密码错误"})}).catch(function(){this.$message({type:"error",message:"登录异常"})})}},canplay:function(){this.vedioCanPlay=!0}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"homepage-hero-module"},[a("div",{staticClass:"video-container"},[a("div",{staticClass:"filter",style:t.fixStyle},[a("div",{attrs:{id:"home"}},[a("img",{staticStyle:{width:"20%"},attrs:{src:"http://114.116.238.138:9090/file/background/LOGO_2.png"}}),t._v(" "),a("div",{attrs:{id:"login"}},[a("el-form",{staticClass:"login_form",attrs:{"label-position":t.labelPosition,"label-width":"80px",model:t.formLabelAlign}},[a("el-form-item",{staticStyle:{"margin-bottom":"35px"},attrs:{label:""}},[a("p",{staticStyle:{"font-size":"20px","margin-bottom":"10px"}},[t._v("管理员账号")]),t._v(" "),a("el-input",{staticStyle:{width:"300px","font-size":"14px"},model:{value:t.formLabelAlign.adminName,callback:function(e){t.$set(t.formLabelAlign,"adminName",e)},expression:"formLabelAlign.adminName"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"15px"},attrs:{label:""}},[a("p",{staticStyle:{"font-size":"20px","margin-bottom":"10px"}},[t._v("密码")]),t._v(" "),a("el-input",{staticStyle:{width:"300px","font-size":"14px"},attrs:{"show-password":""},model:{value:t.formLabelAlign.adminPassword,callback:function(e){t.$set(t.formLabelAlign,"adminPassword",e)},expression:"formLabelAlign.adminPassword"}})],1)],1),t._v(" "),a("el-button",{staticClass:"login_btn",attrs:{type:"success",round:""},on:{click:function(e){return t.submitForm()}}},[t._v("登录")])],1)])]),t._v(" "),a("video",{staticClass:"fillWidth",style:t.fixStyle,attrs:{autoplay:"",loop:""},on:{canplay:t.canplay}},[a("source",{attrs:{src:"http://114.116.238.138:9090/file/background/Workaholic.mp4",type:"video/mp4"}}),t._v("\n      浏览器不支持 video 标签，建议升级浏览器。\n      ")]),t._v(" "),t.vedioCanPlay?t._e():a("div",{staticClass:"poster hidden"},[a("img",{style:t.fixStyle,attrs:{src:"http://114.116.238.138:9090/file/background/Workaholic.jpg",alt:""}})])])])},staticRenderFns:[]};var f=a("VU/8")(v,h,!1,function(t){a("C6sT")},null,null).exports,_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"menu_list"}},[t._m(0),t._v(" "),a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1","background-color":"#545c64","text-color":"#ffffff","active-text-color":"#E6A23C","collapse-transition":""}},[a("el-menu-item",{attrs:{index:"1"},on:{click:function(e){return t.thismenu("首页")}}},[a("i",{staticClass:"el-icon-s-home"}),t._v(" "),a("span",{staticStyle:{"font-size":"16px"},attrs:{slot:"title"},slot:"title"},[t._v("首页")])]),t._v(" "),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-user-solid"}),t._v(" "),a("span",{staticStyle:{"font-size":"16px"}},[t._v("用户管理")])]),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{staticStyle:{"font-size":"15px"},attrs:{index:"2-1"},on:{click:function(e){return t.thismenu("添加用户")}}},[t._v("\n          添加用户\n        ")]),t._v(" "),a("el-menu-item",{staticStyle:{"font-size":"15px"},attrs:{index:"2-2"},on:{click:function(e){return t.thismenu("用户列表")}}},[t._v("\n          用户列表\n        ")])],1)],2),t._v(" "),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),t._v(" "),a("span",{staticStyle:{"font-size":"16px"}},[t._v("文章管理")])]),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{staticStyle:{"font-size":"15px"},attrs:{index:"3-1"},on:{click:function(e){return t.thismenu("文章列表")}}},[t._v("\n          文章列表\n        ")])],1)],2),t._v(" "),a("el-submenu",{attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-s-unfold"}),t._v(" "),a("span",{staticStyle:{"font-size":"16px"}},[t._v("类别管理")])]),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{staticStyle:{"font-size":"15px"},attrs:{index:"4-1"},on:{click:function(e){return t.thismenu("添加类别")}}},[t._v("\n          添加类别\n        ")]),t._v(" "),a("el-menu-item",{staticStyle:{"font-size":"15px"},attrs:{index:"4-2"},on:{click:function(e){return t.thismenu("类别列表")}}},[t._v("\n          类别列表\n        ")])],1)],2),t._v(" "),a("el-submenu",{attrs:{index:"5"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-video-camera-solid"}),t._v(" "),a("span",{staticStyle:{"font-size":"16px"}},[t._v("视频管理")])]),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{staticStyle:{"font-size":"15px"},attrs:{index:"5-1"},on:{click:function(e){return t.thismenu("视频列表")}}},[t._v("\n          视频列表\n        ")])],1)],2),t._v(" "),a("el-submenu",{attrs:{index:"6"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-s-comment"}),t._v(" "),a("span",{staticStyle:{"font-size":"16px"}},[t._v("消息管理")])]),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{staticStyle:{"font-size":"15px"},attrs:{index:"6-1"},on:{click:function(e){return t.thismenu("消息列表")}}},[t._v("\n          消息列表\n        ")])],1)],2)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("img",{attrs:{src:"http://114.116.238.138:9090/file/background/LOGO_2.png"}})])}]};var y=a("VU/8")({name:"caidan",data:function(){return{caianList:[],ruleslist:[],userId:"",index:0}},created:function(){},mounted:function(){var t=this;this.$bus.$on("backindex",function(){t.thismenu("首页")})},methods:{thismenu:function(t){this.$emit("childByValue",t)}}},_,!1,function(t){a("8KlW")},null,null).exports,b={name:"pagehead",data:function(){return{adminId:"",admin:{}}},props:{msg:String},created:function(){this.init()},mounted:function(){var t=this;this.$bus.$on("headChange",function(){t.init()})},methods:{init:function(){var t=this;this.adminId=this.$store.state.loginAdminId;var e=this.$qs.stringify({adminId:this.adminId});this.$axios.post("http://114.116.238.138:9090/admin/findbyid",e).then(function(e){200==e.data.status?t.admin=e.data.data:t.$message("查询管理员失败")}).catch(function(e){t.$message("查询管理员异常")})},removeSession:function(){this.$router.push({name:"home"}),window.localStorage.removeItem("adminId")}}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"pagehead"}},[a("div",{staticClass:"pagehead-welcome"},[a("a",{staticClass:"username"},[t._v("\n      "+t._s(t.admin.adminName)+"\n    ")]),t._v(" "),a("a",{staticClass:"welcome"},[t._v("欢迎来到TASTE管理系统")])]),t._v(" "),a("div",{staticClass:"pagehead-bg"},[a("a",{staticClass:"login_out",on:{click:t.removeSession}},[a("i",{staticClass:"el-icon-lock"}),t._v("\n      注销\n    ")])])])},staticRenderFns:[]};var x=a("VU/8")(b,w,!1,function(t){a("dBWU")},"data-v-dd444788",null).exports,C={name:"echarts",data:function(){return{xdata:[],ydata:[]}},mounted:function(){this.initCharts()},methods:{initCharts:function(){var t=this;this.$axios.get("http://114.116.238.138:9090/user/select/bytime").then(function(e){if(200==e.data.status){var a=e.data.data.length;e.data.data.length>5&&(a=5);for(var i=0;i<a;i++)t.xdata[i]=e.data.data[i].date,t.ydata[i]=e.data.data[i].num;t.$echarts.init(t.$refs.chart).setOption({title:{text:"增长数量",subtext:"Example in MetricsGraphics.js",left:"left"},tooltip:{trigger:"axis",axisPointer:{type:"cross",animation:!1,label:{backgroundColor:"#ccc",borderColor:"#aaa",borderWidth:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#222"}}}},xAxis:{type:"category",data:t.xdata},yAxis:{type:"value"},series:[{name:"用户数",data:t.ydata,type:"line",lineStyle:{normal:{color:"#796AEE",width:3}}}]})}}).catch(function(t){console.log("异常")})}}},$={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{width:"500px",height:"400px","margin-top":"50px"},attrs:{id:"echarts"}},[e("div",{ref:"chart",staticStyle:{width:"450px",height:"450px"}})])},staticRenderFns:[]};var S=a("VU/8")(C,$,!1,function(t){a("ftk+")},null,null).exports,I={name:"echarts",data:function(){return{xdata:[],ydata:[]}},mounted:function(){this.initCharts()},methods:{initCharts:function(){var t=this;this.$axios.get("http://114.116.238.138:9090/video/select/bytime").then(function(e){if(200==e.data.status){var a=e.data.data.length;e.data.data.length>5&&(a=5);for(var i=0;i<a;i++)t.xdata[i]=e.data.data[i].date,t.ydata[i]=e.data.data[i].num;t.$echarts.init(t.$refs.chart).setOption({title:{text:"上传数量",subtext:"Example in MetricsGraphics.js",left:"left"},tooltip:{trigger:"axis",axisPointer:{type:"cross",animation:!1,label:{backgroundColor:"#ccc",borderColor:"#aaa",borderWidth:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#222"}}}},xAxis:{type:"category",data:t.xdata},yAxis:{type:"value"},series:[{name:"视频数",data:t.ydata,type:"line",lineStyle:{normal:{color:"#F56C6C",width:3}}}]})}}).catch(function(t){console.log("异常")})}}},k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{width:"500px",height:"400px","margin-top":"50px"},attrs:{id:"echarts"}},[e("div",{ref:"chart",staticStyle:{width:"450px",height:"450px"}})])},staticRenderFns:[]};var N=a("VU/8")(I,k,!1,function(t){a("hXC+")},null,null).exports,T={name:"echarts",data:function(){return{xdata1:[],ydata1:[]}},mounted:function(){this.initCharts()},methods:{initCharts:function(){var t=this;this.$axios.get("http://114.116.238.138:9090/article/select/bytime").then(function(e){if(200==e.data.status){var a=e.data.data.length;e.data.data.length>5&&(a=5);for(var i=0;i<a;i++)t.xdata1[i]=e.data.data[i].date,t.ydata1[i]=e.data.data[i].num;t.$echarts.init(t.$refs.chart).setOption({title:{text:"发布数量",subtext:"Example in MetricsGraphics.js",left:"left"},tooltip:{trigger:"axis",axisPointer:{type:"cross",animation:!1,label:{backgroundColor:"#ccc",borderColor:"#aaa",borderWidth:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#222"}}}},xAxis:{type:"category",data:t.xdata1},yAxis:{type:"value"},series:[{name:"文章数",data:t.ydata1,type:"line",lineStyle:{normal:{color:"#67C23A",width:3}}}]})}}).catch(function(t){console.log("异常")})}}},z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{width:"500px",height:"400px","margin-top":"50px"},attrs:{id:"echarts"}},[e("div",{ref:"chart",staticStyle:{width:"450px",height:"450px"}})])},staticRenderFns:[]};var L=a("VU/8")(T,z,!1,function(t){a("EVHi")},null,null).exports,V=a("pFYg"),D=a.n(V),R={name:"changeimg",created:function(){},data:function(){return{items:[],model:!1,modelSrc:"",crap:!1,option:{img:"",size:1,full:!1,outputType:"png",canMove:!0,fixedBox:!0,original:!0,canMoveBox:!0,autoCrop:!0,autoCropWidth:200,autoCropHeight:200,centerBox:!0,high:!0},show:!0}},computed:{cropperimg:function(){}},methods:{refreshCrop:function(){this.$refs.cropper.refresh(),this.option.img=""},changeScale:function(t){t=t||1,this.$refs.cropper.changeScale(t)},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},finish:function(t){var e=this;"blob"===t?this.$refs.cropper.getCropBlob(function(t){var a=window.URL.createObjectURL(t);e.model=!0,e.modelSrc=a}):this.$refs.cropper.getCropData(function(t){e.model=!0,e.modelSrc=t})},submitImg:function(t){var e=this;this.$refs.cropper.getCropData(function(t){var a=e.$qs.stringify({img:t});e.$axios.post("http://114.116.238.138:9090/upload/base64",a).then(function(t){200==t.data.status?(e.$message("上传成功"),e.$emit("childByValue",t.data.data),e.refreshCrop()):e.$message("上传失败")})})},uploadImg:function(t,e){var a=this,i=t.target.files[0];if(!/\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(t.target.value))return alert("图片类型必须是.gif,jpeg,jpg,png,bmp中的一种"),!1;var s=new FileReader;s.onload=function(t){var i=void 0;i="object"===D()(t.target.result)?window.URL.createObjectURL(new Blob([t.target.result])):t.target.result,1===e?a.option.img=i:2===e&&(a.example2.img=i)},s.readAsDataURL(i)},imgLoad:function(t){console.log(t)}}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"changeimg"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.model,expression:"model"}],staticClass:"model",staticStyle:{width:"300px"},on:{click:function(e){t.model=!1}}},[a("div",{staticClass:"model-show"},[a("img",{attrs:{src:t.modelSrc,alt:""}})])]),t._v(" "),a("div",{staticClass:"cut"},[a("vue-cropper",{ref:"cropper",attrs:{img:t.option.img,"output-size":t.option.size,"output-type":t.option.outputType,info:!0,full:t.option.full,"can-move":t.option.canMove,"can-move-box":t.option.canMoveBox,"fixed-box":t.option.fixedBox,original:t.option.original,"auto-crop":t.option.autoCrop,"auto-crop-width":t.option.autoCropWidth,"auto-crop-height":t.option.autoCropHeight,"center-box":t.option.centerBox,high:t.option.high},on:{"img-load":t.imgLoad}})],1),t._v(" "),a("div",{staticClass:"test-button"},[a("label",{staticClass:"btn",attrs:{for:"uploads"}},[t._v("选择图片")]),t._v(" "),a("input",{staticStyle:{position:"absolute",clip:"rect(0 0 0 0)"},attrs:{type:"file",id:"uploads",accept:"image/png, image/jpeg, image/gif, image/jpg"},on:{change:function(e){return t.uploadImg(e,1)}}}),t._v(" "),a("button",{staticClass:"btn",on:{click:t.refreshCrop}},[t._v("刷新")]),t._v(" "),a("button",{staticClass:"btn",on:{click:function(e){return t.changeScale(1)}}},[t._v("+")]),t._v(" "),a("button",{staticClass:"btn",on:{click:function(e){return t.changeScale(-1)}}},[t._v("-")]),t._v(" "),a("button",{staticClass:"btn",on:{click:t.rotateLeft}},[t._v("左转")]),t._v(" "),a("button",{staticClass:"btn",on:{click:t.rotateRight}},[t._v("右转")]),t._v(" "),a("button",{staticClass:"btn",on:{click:function(e){return t.finish("blob")}}},[t._v("预览")]),t._v(" "),a("button",{staticClass:"btn",on:{click:function(e){return t.submitImg("base64")}}},[t._v("确认上传")])])])},staticRenderFns:[]};var P=a("VU/8")(R,E,!1,function(t){a("gU44")},"data-v-4892c2c6",null).exports,A="http://114.116.238.138:9090",q={name:"adduser",components:{Changeimg:P},data:function(){return{form:{name:"",password:"",telphone:"",email:"",delivery:!1,type:[]},dialogTableVisible:!1,headimg:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png",headimg_add:"",categoryList:[]}},created:function(){this.init()},methods:{init:function(){var t=this;this.$axios.get(A+"/category/queryall").then(function(e){200==e.data.status?t.categoryList=e.data.data:console.log("查询失败")}).catch(function(t){console.log("查询异常")})},clear:function(){this.form={name:"",password:"",telphone:"",email:"",delivery:!1,type:[]},this.headimg="https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png",this.headimg_add=""},onSubmit:function(){var t=this,e=0;1==this.form.delivery&&(e=1);var a=this.$qs.stringify({userName:this.form.name,userPassword:this.form.password,userTelphone:this.form.telphone,userEmail:this.form.email,userStatus:e,userHeadurl:this.headimg_add});this.$axios.post(A+"/user/insert",a).then(function(e){if(200==e.data.status){t.$message("创建成功");for(var a=0;a<t.form.type.length;a++)t.$axios.get(A+"/usercategory/insert",{params:{userCategoryUserId:e.data.data,userCategoryCategoryId:t.form.type[a]}});t.clear()}else t.$message("创建失败")}).catch(function(t){console.log("创建异常")})},uploadimg:function(){this.dialogTableVisible=!0},childByValue:function(t){this.headimg="http://114.116.238.138:9090/file/"+t,this.headimg_add=t,this.dialogTableVisible=!1},errorHandler:function(){return!0}}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"adduser"}},[a("div",{staticStyle:{"background-color":"darkgray",width:"200px",height:"200px","border-radius":"50%","margin-bottom":"30px"},on:{click:function(e){return t.uploadimg()}}},[a("el-avatar",{attrs:{size:200},on:{error:t.errorHandler}},[a("img",{attrs:{src:t.headimg}})])],1),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户昵称"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"用户密码"}},[a("el-input",{attrs:{"show-password":""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"手机号码"}},[a("el-input",{model:{value:t.form.telphone,callback:function(e){t.$set(t.form,"telphone",e)},expression:"form.telphone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"电子邮箱"}},[a("el-input",{model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否禁用"}},[a("el-switch",{model:{value:t.form.delivery,callback:function(e){t.$set(t.form,"delivery",e)},expression:"form.delivery"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"align-items":"center"},attrs:{label:"感兴趣的"}},[a("el-checkbox-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.categoryList,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.categoryId,name:e.categoryId}},[t._v(t._s(e.categoryName))])}),1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("立即创建")]),t._v(" "),a("el-button",{on:{click:t.clear}},[t._v("重置")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"上传头像",width:"338px",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("Changeimg",{on:{childByValue:t.childByValue}})],1)],1)},staticRenderFns:[]};var U="http://114.116.238.138:9090",F={name:"personnel",data:function(){return{dialogFormVisible:!1,dialogFormVisible2:!1,dialogVisible:!1,dialogVisible2:!1,tableData:[],user:{},roleOptions:[],checkboxRoles:[],form:{userName:"",userPassword:"",userTelphone:"",userEmail:""},form2:{userId:"",userName:"",userTelphone:"",userEmail:""},formLabelWidth:"120px",multipleSelection:[],ids:[],currentPage4:4,singlePage:!1,pageSize:8,pageNum:1,total:0,input4:"",userId:"",message:{messageTitle:"",messageContent:""}}},created:function(){this.init()},mounted:function(){},methods:{init:function(){var t=this;this.$axios.get(U+"/user/all").then(function(e){if(200==e.data.status){for(var a=0;a<e.data.data.list.length;a++){var i=new Date(e.data.data.list[a].userTime);e.data.data.list[a].userTime=i.toLocaleString()}t.tableData=e.data.data.list,t.pageNum=e.data.data.pageNum,t.pageSize=e.data.data.pageSize,t.total=e.data.data.total}else t.tableData=[]}).catch(function(e){t.tableData=[]})},handleCurrentChange:function(t){var e=this;if(null!=this.input4&&""!=this.input4){var a=this.$qs.stringify({userName:this.input4,pageNum:this.pageNum});this.$axios.post(U+"/user/query/mohu",a).then(function(t){if(200==t.data.status){for(var a=0;a<t.data.data.list.length;a++){var i=new Date(t.data.data.list[a].userTime);t.data.data.list[a].userTime=i.toLocaleString()}e.tableData=[],e.tableData=t.data.data.list,e.pageNum=t.data.data.pageNum,e.pageSize=t.data.data.pageSize,e.total=t.data.data.total}else e.tableData=[],e.pageNum=1,e.total=0}).catch(function(t){e.tableData=[],e.pageNum=1,e.total=0})}else this.pageNum=t,this.$axios.get(U+"/user/all",{params:{pageNum:t}}).then(function(t){if(200==t.data.status){for(var a=0;a<t.data.data.list.length;a++){var i=new Date(t.data.data.list[a].userTime);t.data.data.list[a].userTime=i.toLocaleString()}e.tableData=[],e.tableData=t.data.data.list,e.pageNum=t.data.data.pageNum,e.pageSize=t.data.data.pageSize,e.total=t.data.data.total}else e.tableData=[],e.pageNum=1,e.total=0}).catch(function(t){e.tableData=[],e.pageNum=1,e.total=0})},searchUser:function(){var t=this;if(null==this.input4||""==this.input4)this.input4="",this.tableData=[],this.init();else{var e=this.$qs.stringify({userName:this.input4,pageNum:this.pageNum});this.$axios.post(U+"/user/query/mohu",e).then(function(e){if(200==e.data.status){for(var a=0;a<e.data.data.list.length;a++){var i=new Date(e.data.data.list[a].userTime);e.data.data.list[a].userTime=i.toLocaleString()}t.tableData=[],t.tableData=e.data.data.list,t.pageNum=e.data.data.pageNum,t.pageSize=e.data.data.pageSize,t.total=e.data.data.total}else t.tableData=[],t.pageNum=1,t.total=0}).catch(function(e){t.tableData=[],t.pageNum=1,t.total=0})}},deleteuser:function(t){var e=this,a="此操作将删除该用户, 是否继续?";0!=t.userStatus&&(a="此操作将恢复该用户, 是否继续?"),this.$confirm(a,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.get(U+"/user/delete",{params:{userId:t.userId}}).then(function(t){200==t.data.status?(e.handleCurrentChange(e.pageNum),e.$message({type:"success",message:"操作成功!"})):e.$message({type:"info",message:"操作失败!"})}).catch(function(t){e.$message({type:"success",message:"删除异常!"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},deluser:function(){var t=this;this.$confirm("此操作将永久删除选中用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.get(U+"/user/deleteoptions",{params:{user:d()(t.ids)}}).then(function(e){200==e.data.status?(t.init(),t.$message("删除成功")):t.$message("删除失败")}).catch(function(e){t.$message("删除异常")})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},copyId:function(t){var e=this,a=new this.$clipboard(".tag-read");a.on("success",function(t){e.$message("复制成功"),a.destroy()}),a.on("error",function(t){e.$message("该浏览器不支持自动复制"),a.destroy()})},updateuser:function(t){this.userId=t},cancel:function(t){this.handleCurrentChange(this.pageNum),this.userId=""},submitupdate:function(t){var e=this;if(null==t.userName||""==t.userName)this.$message({type:"error",message:"用户名不能空着哦"});else if(null==t.userTelphone||""==t.userTelphone)this.$message({type:"error",message:"手机号不能空着哦"});else if(null==t.userEmail||""==t.userEmail)this.$message({type:"error",message:"电子邮箱不能空着哦"});else{var a=this.$qs.stringify({userId:t.userId,userName:t.userName,userEmail:t.userEmail,userTelphone:t.userTelphone});this.$axios.post(U+"/user/update",a).then(function(t){200==t.data.status?(e.$message({type:"success",message:"修改成功啦！！！"}),e.handleCurrentChange(e.pageNum),e.userId=""):e.$message({type:"info",message:t.data.message})}).catch(function(t){e.$message({type:"error",message:t.data.message})})}},listback:function(){this.init(),this.input4=""},sendmessage:function(t){this.user=t,this.message={messageTitle:"",messageContent:""},this.dialogVisible2=!0},sendmess:function(){var t=this;this.$axios.get(U+"/message/insert",{params:{messageUserId:this.user.userId,messageTitle:this.message.messageTitle,messageContent:this.message.messageContent}}).then(function(e){200==e.data.status?(t.$message({type:"success",message:"发送成功"}),t.user={},t.dialogVisible2=!1):t.$message({type:"info",message:"发送失败"})}).catch(function(t){console.log("发送异常")})},closemess:function(){this.dialogVisible2=!1}}},H={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"personnel"}},[a("el-input",{staticStyle:{"margin-top":"20px",width:"300px"},attrs:{placeholder:"请输入内容"},model:{value:t.input4,callback:function(e){t.input4=e},expression:"input4"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(e){return t.searchUser()}}},[t._v("搜索")]),t._v(" "),null!=t.input4&&""!=t.input4?a("el-button",{attrs:{icon:"el-icon-back",size:"mini"},on:{click:function(e){return t.listback()}}},[t._v("返回")]):t._e(),t._v(" "),a("el-table",{staticStyle:{"margin-top":"10px",width:"100%"},attrs:{height:"627",size:"medium",data:t.tableData}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"left",type:"index",label:"序号",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{label:"头像",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[""!=e.row.userHeadurl&&null!=e.row.userHeadurl?a("el-avatar",{attrs:{size:70,src:"http://114.116.238.138:9090/file/"+e.row.userHeadurl}}):""==e.row.userHeadurl||null==e.row.userHeadurl?a("el-avatar",{attrs:{size:70,src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}}):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"姓名",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{directives:[{name:"show",rawName:"v-show",value:e.row.userId!=t.userId,expression:"scope.row.userId!=userId"}],attrs:{trigger:"hover",placement:"top"}},[a("p",[t._v("点击复制用户编号: "+t._s(e.row.userId))]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{staticClass:"tag-read",staticStyle:{cursor:"pointer"},attrs:{"data-clipboard-text":e.row.userId,size:"medium"},on:{click:t.copyId}},[t._v(t._s(e.row.userName)+"\n              ")])],1)]),t._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.row.userId==t.userId,expression:"scope.row.userId==userId"}],attrs:{type:"text",placeholder:"请输入内容"},model:{value:e.row.userName,callback:function(a){t.$set(e.row,"userName",a)},expression:"scope.row.userName"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"手机号码",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{directives:[{name:"show",rawName:"v-show",value:e.row.userId!=t.userId,expression:"scope.row.userId!=userId"}],attrs:{"disable-transitions":"",size:"medium"}},[t._v("\n            "+t._s(e.row.userTelphone)+"\n          ")]),t._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.row.userId==t.userId,expression:"scope.row.userId==userId"}],attrs:{type:"text",placeholder:"请输入手机号码",maxlength:"11","show-word-limit":""},model:{value:e.row.userTelphone,callback:function(a){t.$set(e.row,"userTelphone",a)},expression:"scope.row.userTelphone"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"邮箱",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{directives:[{name:"show",rawName:"v-show",value:e.row.userId!=t.userId,expression:"scope.row.userId!=userId"}],attrs:{"disable-transitions":"",size:"medium"}},[t._v("\n            "+t._s(e.row.userEmail)+"\n          ")]),t._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.row.userId==t.userId,expression:"scope.row.userId==userId"}],attrs:{type:"text",placeholder:"请输入电子邮箱"},model:{value:e.row.userEmail,callback:function(a){t.$set(e.row,"userEmail",a)},expression:"scope.row.userEmail"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"注册时间",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time"}),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.userTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"用户状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[0!=e.row.userStatus?a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[t._v("状态: 已删除")]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium",type:"info",effect:"dark"}},[t._v("已删除")])],1)]):t._e(),t._v(" "),0==e.row.userStatus?a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[t._v("状态: 正常")]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium",type:"success",effect:"dark"}},[t._v("正常")])],1)]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.userId!=t.userId?a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return t.updateuser(e.row.userId)}}},[t._v("\n            编辑\n          ")]):t._e(),t._v(" "),e.row.userId==t.userId?a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return t.submitupdate(e.row)}}},[t._v("保存\n          ")]):t._e(),t._v(" "),e.row.userId==t.userId?a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return t.cancel(e.row)}}},[t._v("取消")]):t._e(),t._v(" "),e.row.userId!=t.userId?a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return t.sendmessage(e.row)}}},[t._v("发送消息\n          ")]):t._e(),t._v(" "),0==e.row.userStatus?a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return t.deleteuser(e.row)}}},[t._v("删除\n          ")]):t._e(),t._v(" "),0!=e.row.userStatus?a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return t.deleteuser(e.row)}}},[t._v("恢复\n          ")]):t._e()]}}])})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.pageNum,"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.pageNum=e},"update:current-page":function(e){t.pageNum=e}}}),t._v(" "),a("el-dialog",{attrs:{title:"发送消息",visible:t.dialogVisible2,width:"30%"},on:{"update:visible":function(e){t.dialogVisible2=e}}},[a("span",[t._v("To："+t._s(t.user.userName))]),t._v(" "),a("br"),t._v(" "),a("span",[t._v("消息标题："),a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.message.messageTitle,callback:function(e){t.$set(t.message,"messageTitle",e)},expression:"message.messageTitle"}})],1),t._v(" "),a("br"),t._v(" "),a("span",[t._v("消息内容：\n      "),a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入内容"},model:{value:t.message.messageContent,callback:function(e){t.$set(t.message,"messageContent",e)},expression:"message.messageContent"}})],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){return t.closemess()}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.sendmess()}}},[t._v("发 送")])],1)])],1)},staticRenderFns:[]};var O="http://114.116.238.138:9090",W={name:"articlelist",components:{},data:function(){return{pageNum:1,pageSize:12,total:0,articlelist:[],fold:!0,categoryList:[],loading:!1,centerDialogVisible:!1,article:{},articleId:"",value:"",articleTitle:""}},created:function(){this.init()},mounted:function(){},methods:{init:function(){var t=this;this.loading=!0;var e=this.$qs.stringify({pageNum:this.pageNum,pageSize:this.pageSize});this.$axios.post(O+"/article/queryall",e).then(function(e){if(200==e.data.status){for(var a=0;a<e.data.data.pagedList.length;a++){var i=new Date(e.data.data.pagedList[a].articleTime);e.data.data.pagedList[a].articleTime=i.toLocaleString()}t.articlelist=e.data.data.pagedList,t.pageNum=e.data.data.nowPage,t.total=e.data.data.totalCount,t.loading=!1}else t.pageNum=1,t.total=0,t.articlelist=[],t.loading=!1}).catch(function(e){console.log("查询异常"),t.pageNum=1,t.total=0,t.articlelist=[],t.loading=!1}),this.$axios.get(O+"/category/queryall").then(function(e){200==e.data.status?t.categoryList=e.data.data:console.log("查询失败")}).catch(function(t){console.log("查询异常")})},closearticle:function(){this.centerDialogVisible=!1,this.article={}},dialogclose:function(){this.article={}},handleClick:function(t){var e=this;this.$axios.get(O+"/article/query/articleid",{params:{articleId:t.articleId}}).then(function(t){200==t.data.status?(e.article=t.data.data,e.centerDialogVisible=!0):e.$message({type:"info",message:"查看失败"})}).catch(function(t){console.log("查看异常")})},articlelistCurrentChange:function(t){var e=this;if(this.loading=!0,this.pageNum=t,null!=this.articleTitle&&""!=this.articleTitle){var a=this.$qs.stringify({articleTitle:this.articleTitle,pageNum:this.pageNum,pageSize:this.pageSize});this.$axios.post(O+"/article/querybytitle",a).then(function(t){if(200==t.data.status){for(var a=0;a<t.data.data.pagedList.length;a++){var i=new Date(t.data.data.pagedList[a].articleTime);t.data.data.pagedList[a].articleTime=i.toLocaleString()}e.articlelist=t.data.data.pagedList,e.pageNum=t.data.data.pageNum,e.total=t.data.data.total,e.loading=!1}else e.articlelist=[],e.pageNum=1,e.total=0,e.loading=!1}).catch(function(t){e.articlelist=[],e.pageNum=1,e.total=0,e.loading=!1})}else{a=this.$qs.stringify({pageNum:this.pageNum,pageSize:this.pageSize});this.$axios.post(O+"/article/select/with/user",a).then(function(t){if(200==t.data.status){for(var a=0;a<t.data.data.pagedList.length;a++){var i=new Date(t.data.data.pagedList[a].articleTime);t.data.data.pagedList[a].articleTime=i.toLocaleString()}e.articlelist=t.data.data.pagedList,e.pageNum=t.data.data.nowPage,e.total=t.data.data.totalCount,e.loading=!1}else e.$message("查询失败"),e.pageNum=1,e.total=0,e.articlelist=[],e.loading=!1}).catch(function(t){console.log("查询异常"),e.pageNum=1,e.total=0,e.articlelist=[],e.loading=!1})}},deletearticle:function(t){var e=this,a="此操作将移除该类别, 是否继续?";0!=t.articleStatus&&(a="此操作将恢复该类别, 是否继续?"),this.$confirm(a,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.get(O+"/article/delete",{params:{articleId:t.articleId}}).then(function(t){200==t.data.status?(e.$message({type:"success",message:"操作成功"}),e.articlelistCurrentChange(e.pageNum)):e.$message({type:"info",message:"操作失败"})}).catch(function(t){e.$message({type:"error",message:"操作异常"})})}).catch(function(){e.$message({type:"info",message:"已取消"})})},updatearticle:function(t){this.articleId=t.articleId,this.value=t.articleCategoryId},submitupdate:function(t){var e=this,a=this.$qs.stringify({articleId:t.articleId,articleTitle:t.articleTitle,articleCategoryId:this.value});this.$axios.post(O+"/article/update",a).then(function(t){200==t.data.status?(e.articlelistCurrentChange(e.pageNum),e.articleId="",e.value="",e.$message({type:"success",message:"修改成功啦！！！"})):e.$message({type:"info",message:t.data.message})}).catch(function(t){e.$message({type:"error",message:t.data.message})})},cancel:function(t){this.articlelistCurrentChange(this.pageNum),this.articleId="",this.value=""},searchVideo:function(){var t=this;if(null==this.articleTitle||""==this.articleTitle)this.articleTitle="",this.articlelist=[],this.init();else{this.loading=!0;var e=this.$qs.stringify({articleTitle:this.articleTitle,pageNum:this.pageNum,pageSize:this.pageSize});this.$axios.post(O+"/article/querybytitle",e).then(function(e){if(200==e.data.status){for(var a=0;a<e.data.data.pagedList.length;a++){var i=new Date(e.data.data.pagedList[a].articleTime);e.data.data.pagedList[a].articleTime=i.toLocaleString()}t.articlelist=e.data.data.pagedList,t.pageNum=e.data.data.nowPage,t.total=e.data.data.totalCount,t.loading=!1}else t.articlelist=[],t.pageNum=1,t.total=0,t.loading=!1}).catch(function(e){t.articlelist=[],t.pageNum=1,t.total=0,t.loading=!1})}},listback:function(){this.init(),this.articleTitle=""}}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{staticStyle:{"margin-top":"20px",width:"300px"},attrs:{placeholder:"请输入内容"},model:{value:t.articleTitle,callback:function(e){t.articleTitle=e},expression:"articleTitle"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(e){return t.searchVideo()}}},[t._v("搜索")]),t._v(" "),null!=t.articleTitle&&""!=t.articleTitle?a("el-button",{attrs:{icon:"el-icon-back",size:"mini"},on:{click:function(e){return t.listback()}}},[t._v("返回")]):t._e(),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",data:t.articlelist,height:"665",size:"medium"}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"left",type:"index",label:"序号",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{label:"标题",width:"350"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{directives:[{name:"show",rawName:"v-show",value:e.row.articleId!=t.articleId,expression:"scope.row.articleId!=articleId"}],attrs:{trigger:"hover",placement:"top"}},[null==e.row.highlight?a("p",[t._v("标题: "+t._s(e.row.articleTitle))]):null!=e.row.highlight?a("p",[t._v("标题: "),a("b",{domProps:{innerHTML:t._s(e.row.highlight.articleTitle[0])}})]):t._e(),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{staticClass:"msg container",class:t.fold?"fold":"unfold",attrs:{size:"medium","disable-transitions":""}},[null==e.row.highlight?a("b",[t._v(t._s(e.row.articleTitle))]):null!=e.row.highlight?a("b",[a("b",{domProps:{innerHTML:t._s(e.row.highlight.articleTitle[0])}})]):t._e()])],1)]),t._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.row.articleId==t.articleId,expression:"scope.row.articleId==articleId"}],attrs:{type:"text",placeholder:"请输入文章标题"},model:{value:e.row.articleTitle,callback:function(a){t.$set(e.row,"articleTitle",a)},expression:"scope.row.articleTitle"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"分类",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{directives:[{name:"show",rawName:"v-show",value:e.row.articleId!=t.articleId,expression:"scope.row.articleId!=articleId"}],staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},t._l(t.categoryList,function(i){return a("el-tag",{directives:[{name:"show",rawName:"v-show",value:i.categoryId==e.row.articleCategoryId,expression:"category.categoryId == scope.row.articleCategoryId"}],key:i.categoryId,attrs:{size:"medium",type:"danger","disable-transitions":""}},[t._v(t._s(i.categoryName)+"\n          ")])}),1),t._v(" "),a("el-select",{directives:[{name:"show",rawName:"v-show",value:e.row.articleId==t.articleId,expression:"scope.row.articleId==articleId"}],attrs:{placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.categoryList,function(t){return a("el-option",{key:t.categoryId,attrs:{label:t.categoryName,value:t.categoryId}})}),1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"发布用户",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.user.userName)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"发表时间",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time"}),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.articleTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[0!=e.row.articleStatus?a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[t._v("状态: 已删除")]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium",type:"info",effect:"dark","disable-transitions":""}},[t._v("已删除")])],1)]):t._e(),t._v(" "),0==e.row.articleStatus?a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[t._v("状态: 正常")]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium",type:"success",effect:"dark","disable-transitions":""}},[t._v("正常")])],1)]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return t.handleClick(e.row)}}},[t._v("查看详情")]),t._v(" "),e.row.articleId!=t.articleId?a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return t.updatearticle(e.row)}}},[t._v("\n          编辑\n        ")]):t._e(),t._v(" "),e.row.articleId==t.articleId?a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return t.submitupdate(e.row)}}},[t._v("保存\n        ")]):t._e(),t._v(" "),e.row.articleId==t.articleId?a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return t.cancel(e.row)}}},[t._v("取消")]):t._e(),t._v(" "),0==e.row.articleStatus?a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return t.deletearticle(e.row)}}},[t._v("删除\n        ")]):t._e(),t._v(" "),0!=e.row.articleStatus?a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return t.deletearticle(e.row)}}},[t._v("恢复\n        ")]):t._e()]}}])})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.pageNum,"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.articlelistCurrentChange,"update:currentPage":function(e){t.pageNum=e},"update:current-page":function(e){t.pageNum=e}}}),t._v(" "),a("el-dialog",{attrs:{visible:t.centerDialogVisible,width:"30%","destroy-on-close":"",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e},close:t.dialogclose}},[[a("h1",[t._v(t._s(t.article.articleTitle))]),t._v(" "),a("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loading,expression:"loading"}],staticClass:"infinite-list",staticStyle:{overflow:"auto",height:"500px"}},t._l(t.article.list,function(e,i){return a("li",{key:i,staticClass:"infinite-list-item"},[a("br"),t._v(" "),a("div",[t._v("　　"+t._s(e.contentText))]),t._v(" "),a("img",{staticStyle:{width:"100%"},attrs:{src:"http://114.116.238.138:9090/file/"+e.contentImgurl}}),t._v(" "),a("br")])}),0)],t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.closearticle}},[t._v("关 闭")])],1)],2)],1)},staticRenderFns:[]};var j={name:"categorylist",data:function(){return{categorylist:[],categoryId:""}},created:function(){this.init()},mounted:function(){},methods:{init:function(){var t=this;this.$axios.get("http://114.116.238.138:9090/category/queryall2").then(function(e){200==e.data.status?t.categorylist=e.data.data:t.$message("查询失败")}).catch(function(t){console.log("查询异常")})},changeName:function(t){this.categoryId=t},blur:function(t){""!=this.categoryId&&(this.categoryId="",this.init(),this.$message({type:"info",message:"取消修改"}))},doChange:function(t,e){var a=this;null==t||""==t?this.$alert("类别名称不能为空","警告",{confirmButtonText:"确定",callback:function(t){a.$message({type:"info",message:"请重新输入"})}}):this.$axios.get("http://114.116.238.138:9090/category/updatebyid",{params:{categoryName:t,categoryId:e}}).then(function(t){200==t.data.status?(a.$message({type:"success",message:"修改成功"}),a.categoryId=""):(a.$message({type:"info",message:"修改失败"}),a.init())}).catch(function(t){a.$message({type:"error",message:"修改异常"}),a.init()})},deleteRow:function(t,e){var a=this,i="此操作将移除该类别, 是否继续?";0!=e&&(i="此操作将恢复该类别, 是否继续?"),this.$confirm(i,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=a.$qs.stringify({categoryId:t});a.$axios.post("http://114.116.238.138:9090/category/deletebyid",e).then(function(t){200==t.data.status?(a.$message({type:"success",message:"操作成功"}),a.init()):a.$message({type:"info",message:"操作失败"})}).catch(function(t){a.$message({type:"error",message:"操作异常"})})}).catch(function(){a.$message({type:"info",message:"已取消"})})}}},G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"categorylist"}},[a("el-table",{attrs:{data:t.categorylist,"max-height":"800"}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"left",type:"index",label:"序号",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",label:"名称",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{directives:[{name:"show",rawName:"v-show",value:e.row.categoryId!=t.categoryId,expression:"scope.row.categoryId!=categoryId"}],attrs:{"disable-transitions":"",size:"medium",effect:"dark"},on:{click:function(a){return t.changeName(e.row.categoryId)}}},[t._v("\n          "+t._s(e.row.categoryName)+"\n        ")]),t._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.row.categoryId==t.categoryId,expression:"scope.row.categoryId==categoryId"}],attrs:{type:"text",placeholder:"请输入内容",maxlength:"10","show-word-limit":""},on:{blur:t.blur},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.doChange(e.row.categoryName,e.row.categoryId)}},model:{value:e.row.categoryName,callback:function(a){t.$set(e.row,"categoryName",a)},expression:"scope.row.categoryName"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"categoryStatus",label:"状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[0!=e.row.categoryStatus?a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[t._v("状态: 已删除")]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium",type:"info",effect:"dark"}},[t._v("已删除")])],1)]):t._e(),t._v(" "),0==e.row.categoryStatus?a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[t._v("状态: 正常")]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium",type:"success",effect:"dark"}},[t._v("正常")])],1)]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.categoryStatus?a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.deleteRow(e.row.categoryId,e.row.categoryStatus)}}},[t._v("\n          移除\n        ")]):t._e(),t._v(" "),0!=e.row.categoryStatus?a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.deleteRow(e.row.categoryId,e.row.categoryStatus)}}},[t._v("\n          恢复\n        ")]):t._e()]}}])})],1)],1)},staticRenderFns:[]};var Y="http://114.116.238.138:9090",X={name:"videolist",data:function(){return{pageNum:1,pageSize:10,total:0,videolist:[],fold:!0,loading:!1,categoryList:[],centerDialogVisible:!1,video:{},videoId:"",value:"",videoTitle:""}},created:function(){this.init()},mounted:function(){},methods:{init:function(){var t=this;this.loading=!0;var e=this.$qs.stringify({pageNum:this.pageNum,pageSize:this.pageSize});this.$axios.get(Y+"/video/queryall",e).then(function(e){if(200==e.data.status){for(var a=0;a<e.data.data.pagedList.length;a++){var i=new Date(e.data.data.pagedList[a].videoTime);e.data.data.pagedList[a].videoTime=i.toLocaleString()}t.videolist=e.data.data.pagedList,t.pageNum=e.data.data.nowPage,t.total=e.data.data.totalCount,t.loading=!1}else t.videolist=[],t.pageNum=1,t.total=0,t.loading=!1}).catch(function(e){console.log("查询异常"),t.videolist=[],t.pageNum=1,t.total=0,t.loading=!1}),this.$axios.get(Y+"/category/queryall").then(function(e){200==e.data.status?t.categoryList=e.data.data:console.log("查询失败")}).catch(function(t){console.log("查询异常")})},videolistCurrentChange:function(t){var e=this;if(this.loading=!0,this.pageNum=t,null!=this.videoTitle&&""!=this.videoTitle){var a=this.$qs.stringify({videoTitle:this.videoTitle,pageNum:this.pageNum,pageSize:this.pageSize});this.$axios.post(Y+"/video/querybytitle",a).then(function(t){if(200==t.data.status){for(var a=0;a<t.data.data.pagedList.length;a++){var i=new Date(t.data.data.pagedList[a].videoTime);t.data.data.pagedList[a].videoTime=i.toLocaleString(),null!=t.data.data.pagedList[a].highlight.videoContent&&""!=t.data.data.pagedList[a].highlight.videoContent&&(t.data.data.pagedList[a].videoContent=t.data.data.pagedList[a].highlight.videoContent[0])}e.videolist=t.data.data.pagedList,e.pageNum=t.data.data.nowPage,e.total=t.data.data.total,e.loading=!1}else e.videolist=[],e.pageNum=1,e.total=0,e.loading=!1}).catch(function(t){e.videolist=[],e.pageNum=1,e.total=0,e.loading=!1})}else{a=this.$qs.stringify({pageNum:this.pageNum,pageSize:this.pageSize});this.$axios.post(Y+"/video/queryall",a).then(function(t){if(200==t.data.status){for(var a=0;a<t.data.data.pagedList.length;a++){var i=new Date(t.data.data.pagedList[a].videoTime);t.data.data.pagedList[a].videoTime=i.toLocaleString()}e.videolist=t.data.data.pagedList,e.pageNum=t.data.data.nowPage,e.total=t.data.data.totalCount,e.loading=!1}else e.$message("查询失败"),e.pageNum=1,e.total=0,e.videolist=[],e.loading=!1}).catch(function(t){console.log("查询异常"),e.pageNum=1,e.total=0,e.videolist=[],e.loading=!1})}},closevideo:function(){this.centerDialogVisible=!1,this.video={}},dialogclose:function(){this.video={}},handleClick:function(t){var e=this;this.$axios.get(Y+"/video/querybyid",{params:{videoId:t.videoId}}).then(function(t){200==t.data.status?(e.video=t.data.data,e.centerDialogVisible=!0):e.$message({type:"info",message:"查看失败"})}).catch(function(t){console.log("查看异常")})},deletevideo:function(t){var e=this,a="此操作将移除该类别, 是否继续?";0!=t.videoStatus&&(a="此操作将恢复该类别, 是否继续?"),this.$confirm(a,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.get(Y+"/video/delete",{params:{videoId:t.videoId}}).then(function(t){200==t.data.status?(e.$message({type:"success",message:"操作成功"}),e.videolistCurrentChange(e.pageNum)):e.$message({type:"info",message:"操作失败"})}).catch(function(t){e.$message({type:"error",message:"操作异常"})})}).catch(function(){e.$message({type:"info",message:"已取消"})})},updatevideo:function(t){this.videoId=t.videoId,this.value=t.videoCategoryId},submitupdate:function(t){var e=this,a=this.$qs.stringify({videoId:t.videoId,videoTitle:t.videoTitle,videoContent:t.videoContent,videoCategoryId:this.value});this.$axios.post(Y+"/video/update",a).then(function(t){200==t.data.status?(e.videolistCurrentChange(e.pageNum),e.value="",e.videoId="",e.$message({type:"success",message:"修改成功啦！！！"})):e.$message({type:"info",message:t.data.message})}).catch(function(t){e.$message({type:"error",message:t.data.message})})},cancel:function(t){this.videolistCurrentChange(this.pageNum),this.value="",this.videoId=""},searchVideo:function(){var t=this;if(null==this.videoTitle||""==this.videoTitle)this.videoTitle="",this.videolist=[],this.init();else{this.loading=!0;var e=this.$qs.stringify({videoTitle:this.videoTitle,pageNum:this.pageNum,pageSize:this.pageSize});this.$axios.post(Y+"/video/querybytitle",e).then(function(e){if(200==e.data.status){for(var a=0;a<e.data.data.pagedList.length;a++){var i=new Date(e.data.data.pagedList[a].videoTime);e.data.data.pagedList[a].videoTime=i.toLocaleString(),null!=e.data.data.pagedList[a].highlight.videoContent&&""!=e.data.data.pagedList[a].highlight.videoContent&&(e.data.data.pagedList[a].videoContent=e.data.data.pagedList[a].highlight.videoContent[0])}t.videolist=e.data.data.pagedList,t.pageNum=e.data.data.nowPage,t.total=e.data.data.totalCount,t.loading=!1}else t.videolist=[],t.pageNum=1,t.total=0,t.loading=!1}).catch(function(e){t.videolist=[],t.pageNum=1,t.total=0,t.loading=!1})}},listback:function(){this.init(),this.videoTitle=""}}},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"videolist"}},[a("el-input",{staticStyle:{"margin-top":"20px",width:"300px"},attrs:{placeholder:"请输入内容"},model:{value:t.videoTitle,callback:function(e){t.videoTitle=e},expression:"videoTitle"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(e){return t.searchVideo()}}},[t._v("搜索")]),t._v(" "),null!=t.videoTitle&&""!=t.videoTitle?a("el-button",{attrs:{icon:"el-icon-back",size:"mini"},on:{click:function(e){return t.listback()}}},[t._v("返回")]):t._e(),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",data:t.videolist,height:"665",size:"medium"}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"left",type:"index",label:"序号",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{label:"标题",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{directives:[{name:"show",rawName:"v-show",value:e.row.videoId!=t.videoId,expression:"scope.row.videoId!=videoId"}],attrs:{trigger:"hover",placement:"top"}},[null==e.row.highlight?a("p",[t._v("标题: "+t._s(e.row.videoTitle))]):null!=e.row.highlight?a("p",[t._v("标题: "),a("b",{domProps:{innerHTML:t._s(e.row.highlight.videoTitle[0])}})]):t._e(),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{staticClass:"msg container",class:t.fold?"fold":"unfold",attrs:{size:"medium","disable-transitions":""}},[null==e.row.highlight?a("b",[t._v(t._s(e.row.videoTitle))]):null!=e.row.highlight?a("b",[a("b",{domProps:{innerHTML:t._s(e.row.highlight.videoTitle[0])}})]):t._e()])],1)]),t._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.row.videoId==t.videoId,expression:"scope.row.videoId==videoId"}],attrs:{type:"text",placeholder:"请输入视频标题"},model:{value:e.row.videoTitle,callback:function(a){t.$set(e.row,"videoTitle",a)},expression:"scope.row.videoTitle"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"视频简介",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{directives:[{name:"show",rawName:"v-show",value:e.row.videoId!=t.videoId,expression:"scope.row.videoId!=videoId"}],attrs:{trigger:"hover",placement:"top"}},[a("p",[t._v("简介: "),a("b",{domProps:{innerHTML:t._s(e.row.videoContent)}})]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{staticClass:"msg container",class:t.fold?"fold":"unfold",attrs:{size:"medium","disable-transitions":""}},[a("b",[a("b",{domProps:{innerHTML:t._s(e.row.videoContent)}})])])],1)]),t._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.row.videoId==t.videoId,expression:"scope.row.videoId==videoId"}],attrs:{type:"text",placeholder:"请输入视频简介"},model:{value:e.row.videoContent,callback:function(a){t.$set(e.row,"videoContent",a)},expression:"scope.row.videoContent"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"分类",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{directives:[{name:"show",rawName:"v-show",value:e.row.videoId!=t.videoId,expression:"scope.row.videoId!=videoId"}],staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},t._l(t.categoryList,function(i){return a("el-tag",{directives:[{name:"show",rawName:"v-show",value:i.categoryId==e.row.videoCategoryId,expression:"category.categoryId == scope.row.videoCategoryId"}],key:i.categoryId,attrs:{size:"medium",type:"danger","disable-transitions":""}},[t._v(t._s(i.categoryName)+"\n          ")])}),1),t._v(" "),a("el-select",{directives:[{name:"show",rawName:"v-show",value:e.row.videoId==t.videoId,expression:"scope.row.videoId==videoId"}],attrs:{filterable:"",placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.categoryList,function(t){return a("el-option",{key:t.categoryId,attrs:{label:t.categoryName,value:t.categoryId}})}),1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"发布用户",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.user.userName)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"发表时间",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time"}),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.videoTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[0!=e.row.videoStatus?a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[t._v("状态: 已删除")]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium",type:"info",effect:"dark","disable-transitions":""}},[t._v("已删除")])],1)]):t._e(),t._v(" "),0==e.row.videoStatus?a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[t._v("状态: 正常")]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium",type:"success",effect:"dark","disable-transitions":""}},[t._v("正常")])],1)]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return t.handleClick(e.row)}}},[t._v("查看详情")]),t._v(" "),e.row.videoId!=t.videoId?a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return t.updatevideo(e.row)}}},[t._v("\n          编辑\n        ")]):t._e(),t._v(" "),e.row.videoId==t.videoId?a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return t.submitupdate(e.row)}}},[t._v("保存\n        ")]):t._e(),t._v(" "),e.row.videoId==t.videoId?a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return t.cancel(e.row)}}},[t._v("取消")]):t._e(),t._v(" "),0==e.row.videoStatus?a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return t.deletevideo(e.row)}}},[t._v("删除\n        ")]):t._e(),t._v(" "),0!=e.row.videoStatus?a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return t.deletevideo(e.row)}}},[t._v("恢复\n        ")]):t._e()]}}])})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.pageNum,"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.videolistCurrentChange,"update:currentPage":function(e){t.pageNum=e},"update:current-page":function(e){t.pageNum=e}}}),t._v(" "),a("el-dialog",{attrs:{visible:t.centerDialogVisible,width:"30%","destroy-on-close":"",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e},close:t.dialogclose}},[[a("h1",[t._v(t._s(t.video.videoTitle))]),t._v(" "),a("video",{staticStyle:{width:"99%"},attrs:{preload:"auto",controls:"true",src:"http://114.116.238.138:9090/file/"+t.video.videoUrl}}),t._v(" "),a("span",[t._v("视频简介："+t._s(t.video.videoContent))])],t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.closevideo}},[t._v("关 闭")])],1)],2)],1)},staticRenderFns:[]};var J={name:"messagelist",data:function(){return{input:"",messagelist:[]}},created:function(){},mounted:function(){},methods:{searchMessage:function(){var t=this;null!=this.input&&""!=this.input?this.$axios.get("http://114.116.238.138:9090/message/select/all",{params:{messageUserId:this.input}}).then(function(e){if(200==e.data.status){for(var a=0;a<e.data.data.length;a++){var i=new Date(e.data.data[a].messageTime);e.data.data[a].messageTime=i.toLocaleString()}t.messagelist=e.data.data}}).catch(function(t){}):this.messagelist=[]}}},Q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"messagelist"}},[a("el-input",{staticStyle:{"margin-top":"20px",width:"300px"},attrs:{placeholder:"请输入用户编号"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(e){return t.searchMessage()}}},[t._v("搜索")]),t._v(" "),a("div",{staticStyle:{"margin-top":"1%"}},[""==t.messagelist?a("p",[t._v("暂无数据！")]):""!=t.messagelist?a("el-scrollbar",{staticStyle:{height:"685px"}},[a("el-collapse",{staticStyle:{width:"500px"},attrs:{accordion:""}},t._l(t.messagelist,function(e,i){return a("el-collapse-item",{key:i},[a("template",{slot:"title"},[a("el-tag",{attrs:{type:"warning",effect:"dark"}},[t._v("\n          标题："+t._s(e.messageTitle)+"\n        ")]),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:1==e.messageStatus,expression:"message.messageStatus==1"}],staticClass:"el-icon-circle-check",staticStyle:{"margin-left":"10px"}}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:0==e.messageStatus,expression:"message.messageStatus==0"}],staticClass:"el-icon-warning-outline",staticStyle:{"margin-left":"10px"}}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:1!=e.messageStatus&&0!=e.messageStatus,expression:"message.messageStatus!=1 && message.messageStatus!=0"}],staticClass:"el-icon-circle-close",staticStyle:{"margin-left":"10px"}})],1),t._v(" "),a("div",[t._v("内容："+t._s(e.messageContent))]),t._v(" "),a("div",[t._v("发送时间："+t._s(e.messageTime))]),t._v(" "),a("div",[0==e.messageStatus?a("p",[t._v("消息状态：未读")]):t._e(),t._v(" "),1==e.messageStatus?a("p",[t._v("消息状态：已读")]):t._e(),t._v(" "),0!=e.messageStatus&&1!=e.messageStatus?a("p",[t._v("消息状态：已删除")]):t._e()])],2)}),1)],1):t._e()],1)],1)},staticRenderFns:[]};var Z={name:"addcategory",data:function(){return{form:{categoryName:"",delivery:!1}}},created:function(){},mounted:function(){},methods:{clear:function(){this.form={categoryName:"",delivery:!1}},onSubmit:function(){var t=this,e=0;1==this.form.delivery&&(e=1);var a=this.$qs.stringify({categoryName:this.form.categoryName,categoryStatus:e});this.$axios.post("http://114.116.238.138:9090/category/insert",a).then(function(e){200==e.data.status?(t.$message("创建成功"),t.clear()):t.$message("创建失败")}).catch(function(t){console.log("创建异常")})}}},tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"addcategory"}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"类别名称"}},[a("el-input",{model:{value:t.form.categoryName,callback:function(e){t.$set(t.form,"categoryName",e)},expression:"form.categoryName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否禁用"}},[a("el-switch",{model:{value:t.form.delivery,callback:function(e){t.$set(t.form,"delivery",e)},expression:"form.delivery"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("立即添加")]),t._v(" "),a("el-button",{on:{click:t.clear}},[t._v("重置")])],1)],1)],1)},staticRenderFns:[]};var et="http://114.116.238.138:9090",at={name:"setting",components:{echarts:S,echarts1:N,echarts2:L,adduser:a("VU/8")(q,B,!1,function(t){a("SHG2")},null,null).exports,personnel:a("VU/8")(F,H,!1,function(t){a("S6//")},null,null).exports,articlelist:a("VU/8")(W,M,!1,function(t){a("1SYN")},"data-v-0207b21d",null).exports,categorylist:a("VU/8")(j,G,!1,function(t){a("iLzl")},"data-v-a0513f74",null).exports,videolist:a("VU/8")(X,K,!1,function(t){a("g0tW")},"data-v-35c734fd",null).exports,messagelist:a("VU/8")(J,Q,!1,function(t){a("w9iL")},"data-v-c65b9102",null).exports,addcategory:a("VU/8")(Z,tt,!1,function(t){a("lmPB")},"data-v-98433a9a",null).exports},data:function(){return{list:[],usernum:"",articlenum:"",videonum:""}},props:{title:String},beforeCreate:function(){},created:function(){this.init()},mounted:function(){},methods:{init:function(){var t=this;this.$axios.get(et+"/user/querynum").then(function(e){t.usernum=e.data.data}).catch(function(t){console.log("查询用户数量异常")}),this.$axios.get(et+"/article/select/num").then(function(e){t.articlenum=e.data.data}).catch(function(t){console.log("查询文章数量异常")}),this.$axios.get(et+"/video/select/num").then(function(e){t.videonum=e.data.data}).catch(function(t){console.log("查询视频数量异常")})},backindex:function(){this.$bus.$emit("backindex")}}},it={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"setting"}},[a("div",{staticClass:"setting-table"},[a("el-card",{staticClass:"box-card"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/index"}}},[a("a",{on:{click:t.backindex}},[t._v("首页")])]),t._v(" "),""!=t.title&&"首页"!=t.title?a("el-breadcrumb-item",[t._v(t._s(t.title))]):t._e()],1),t._v(" "),""==t.title||"首页"==t.title?a("div",{staticClass:"zhanshi"},[a("div",{staticClass:"col-xl-3 col-sm-6"},[a("div",{staticClass:"item d-flex align-items-center"},[a("div",{staticClass:"bg-violet bg1"},[a("i",{staticClass:"el-icon-user"})]),t._v(" "),a("div",{staticClass:"title"},[a("span",[t._v("User"),a("br"),t._v("Number")])]),t._v(" "),a("div",{staticClass:"number"},[a("strong",[t._v(t._s(t.usernum))])])])]),t._v(" "),a("div",{staticClass:"col-xl-3 col-sm-6"},[a("div",{staticClass:"item d-flex align-items-center"},[a("div",{staticClass:"bg-violet bg2"},[a("i",{staticClass:"el-icon-tickets"})]),t._v(" "),a("div",{staticClass:"title"},[a("span",[t._v("Article"),a("br"),t._v("Number")])]),t._v(" "),a("div",{staticClass:"number"},[a("strong",[t._v(t._s(t.articlenum))])])])]),t._v(" "),a("div",{staticClass:"col-xl-3 col-sm-6"},[a("div",{staticClass:"d-flex align-items-center"},[a("div",{staticClass:"bg-violet bg3"},[a("i",{staticClass:"el-icon-video-camera"})]),t._v(" "),a("div",{staticClass:"title"},[a("span",[t._v("Video"),a("br"),t._v("Number")])]),t._v(" "),a("div",{staticClass:"number"},[a("strong",[t._v(t._s(t.videonum))])])])])]):t._e(),t._v(" "),""==t.title||"首页"==t.title?a("div",{staticClass:"table"},[a("echarts"),t._v(" "),a("echarts2"),t._v(" "),a("echarts1")],1):t._e(),t._v(" "),"添加用户"==t.title?a("adduser"):t._e(),t._v(" "),"用户列表"==t.title?a("personnel"):t._e(),t._v(" "),"文章列表"==t.title?a("articlelist"):t._e(),t._v(" "),"类别列表"==t.title?a("categorylist"):t._e(),t._v(" "),"视频列表"==t.title?a("videolist"):t._e(),t._v(" "),"消息列表"==t.title?a("messagelist"):t._e(),t._v(" "),"添加类别"==t.title?a("addcategory"):t._e()],1)],1)])},staticRenderFns:[]};var st={name:"Index",components:{caidan:y,pagehead:x,setting:a("VU/8")(at,it,!1,function(t){a("wK0m")},null,null).exports},data:function(){return{menuname:"",isRouterAlive:!0}},mounted:function(){var t=this;this.$bus.$on("backindex",function(){t.reload("首页")})},methods:{childByValue:function(t){this.menuname=t},reload:function(){this.isRouterAlive=!1,this.$nextTick(function(){this.isRouterAlive=!0})}}},nt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"index"}},[this.isRouterAlive?e("caidan",{on:{childByValue:this.childByValue}}):this._e(),this._v(" "),e("pagehead"),this._v(" "),e("setting",{attrs:{title:this.menuname}})],1)},staticRenderFns:[]};var ot=a("VU/8")(st,nt,!1,function(t){a("pn2h")},null,null).exports;i.default.use(g.a);var rt=new g.a({routes:[{path:"/",name:"home",component:f},{path:"/index",name:"index",component:ot},{path:"/changeimg",name:"changeimg",component:P}]}),lt=a("mtWM"),ct=a.n(lt),dt=a("mw3O"),ut=a.n(dt);i.default.use(s.a);var mt=new s.a.Store({state:{loginAdminId:""},mutations:{admin:function(t,e){t.loginAdminId=e}},actions:{login:function(t,e){t.commit("admin",e)}}}),pt=a("XLwt"),gt=a.n(pt),vt=a("YZ0n"),ht=a.n(vt),ft=a("TQvf"),_t=a.n(ft),yt=a("63pp");a("g3Gj");i.default.prototype.$video=yt.a,i.default.use(ht.a),i.default.use(s.a),i.default.use(o.a,{size:"small",zIndex:3e3}),i.default.prototype.$echarts=gt.a,i.default.prototype.$axios=ct.a,i.default.prototype.$clipboard=_t.a,i.default.prototype.$qs=ut.a,i.default.config.productionTip=!1,i.default.prototype.$bus=new i.default,new i.default({el:"#app",router:rt,store:mt,components:{App:p},template:"<App/>"})},"S6//":function(t,e){},SHG2:function(t,e){},dBWU:function(t,e){},"ftk+":function(t,e){},g0tW:function(t,e){},g3Gj:function(t,e){},gU44:function(t,e){},"hXC+":function(t,e){},iLzl:function(t,e){},lmPB:function(t,e){},pn2h:function(t,e){},tvR6:function(t,e){},w9iL:function(t,e){},wK0m:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.3258d707b8148ce961ee.js.map